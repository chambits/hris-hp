import{c as d,j as e,u as p,G as r,R as u,P as g,a as c,T as h,B as a}from"./index-_dT4gJmn.js";import{P as v,S as n}from"./PageHeader-Hme4jvH0.js";import{E as y}from"./EmployeesTable-Bx979iBZ.js";import{C as j,B as f,P as S}from"./ChartSection-BYQerI-K.js";const b=d(e.jsx("path",{d:"M8.65 5.82C9.36 4.72 10.6 4 12 4c2.21 0 4 1.79 4 4 0 1.4-.72 2.64-1.82 3.35zM20 17.17c-.02-1.1-.63-2.11-1.61-2.62-.54-.28-1.13-.54-1.77-.76zm1.19 4.02L2.81 2.81 1.39 4.22l8.89 8.89c-1.81.23-3.39.79-4.67 1.45-1 .51-1.61 1.54-1.61 2.66V20h13.17l2.61 2.61z"}),"PersonOff"),E=d(e.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutline"),x=({title:t,value:s,icon:i})=>e.jsx(c,{sx:{p:2},children:e.jsxs(a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(a,{children:[e.jsx(h,{variant:"subtitle2",color:"textSecondary",children:t}),e.jsx(h,{variant:"h4",children:s})]}),e.jsx(a,{sx:{color:"primary.main"},children:i})]})}),o=()=>e.jsx(c,{sx:{p:2},children:e.jsxs(a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(a,{children:[e.jsx(n,{width:100,height:20}),e.jsx(n,{width:60,height:40})]}),e.jsx(n,{variant:"circular",width:40,height:40})]})}),m=({height:t})=>e.jsxs(c,{sx:{p:2,height:`${t}px`},children:[e.jsx(n,{width:200,height:32,sx:{mb:2}}),e.jsx(n,{variant:"rectangular",height:t-80})]}),C=t=>u.useMemo(()=>({total:t.length,active:t.filter(s=>s.status==="Active").length,onLeave:t.filter(s=>s.status==="On Leave").length}),[t]),P=(t,s=15)=>u.useMemo(()=>[...t].sort((i,l)=>new Date(l.hireDate).getTime()-new Date(i.hireDate).getTime()).slice(0,s),[t,s]),w=({stats:t,isLoading:s})=>e.jsx(e.Fragment,{children:s?e.jsxs(e.Fragment,{children:[e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(o,{})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(o,{})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(o,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(x,{title:"Total Employees",value:t.total,icon:e.jsx(g,{fontSize:"large"})})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(x,{title:"Active Employees",value:t.active,icon:e.jsx(E,{fontSize:"large"})})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(x,{title:"Employees on Leave",value:t.onLeave,icon:e.jsx(b,{fontSize:"large"})})})]})}),D=({employees:t,isLoading:s})=>e.jsxs(e.Fragment,{children:[e.jsx(r,{item:!0,xs:12,children:s?e.jsx(m,{height:450}):e.jsx(j,{title:"Employees by Department",children:e.jsx(f,{employees:t})})}),e.jsx(r,{item:!0,xs:12,children:s?e.jsx(m,{height:350}):e.jsx(j,{title:"Employee Status Distribution",children:e.jsx(S,{employees:t})})})]}),z=({employees:t,isLoading:s})=>e.jsx(r,{item:!0,xs:12,children:s?e.jsxs(c,{sx:{p:2},children:[e.jsx(n,{width:200,height:32,sx:{mb:2}}),e.jsx(n,{variant:"rectangular",height:200})]}):e.jsxs(c,{sx:{p:2},children:[e.jsx(h,{variant:"h6",gutterBottom:!0,children:"Recent Employees"}),e.jsx(y,{employees:t||[],isLoading:s})]})}),F=()=>{const{data:t=[],isLoading:s}=p({}),i=C(t),l=P(t);return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Dashboard",breadcrumbs:[{label:"Home",href:"/"},{label:"Dashboard"}]}),e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(w,{stats:i,isLoading:s}),e.jsx(D,{employees:t,isLoading:s}),e.jsx(z,{employees:l,isLoading:s})]})]})};export{F as DashboardPage,F as default};
