import{c as u,j as e,u as g,G as r,R as p,P as y,a as l,T as j,B as i}from"./index-Bkqx1Al_.js";import{P as S,S as n}from"./PageHeader-DDe9lipF.js";import{E as x,a as f}from"./types-DtgDoGbc.js";import{C as m,B as v,P as E}from"./ChartSection-CwAjaQ1m.js";const b=u(e.jsx("path",{d:"M8.65 5.82C9.36 4.72 10.6 4 12 4c2.21 0 4 1.79 4 4 0 1.4-.72 2.64-1.82 3.35zM20 17.17c-.02-1.1-.63-2.11-1.61-2.62-.54-.28-1.13-.54-1.77-.76zm1.19 4.02L2.81 2.81 1.39 4.22l8.89 8.89c-1.81.23-3.39.79-4.67 1.45-1 .51-1.61 1.54-1.61 2.66V20h13.17l2.61 2.61z"}),"PersonOff"),C=u(e.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutline"),o=({title:s,value:t,icon:a})=>e.jsx(l,{sx:{p:2},children:e.jsxs(i,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(i,{children:[e.jsx(j,{variant:"subtitle2",color:"textSecondary",children:s}),e.jsx(j,{variant:"h4",children:t})]}),e.jsx(i,{sx:{color:"primary.main"},children:a})]})}),h=()=>e.jsx(l,{sx:{p:2},children:e.jsxs(i,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(i,{children:[e.jsx(n,{width:100,height:20}),e.jsx(n,{width:60,height:40})]}),e.jsx(n,{variant:"circular",width:40,height:40})]})}),d=({height:s})=>e.jsxs(l,{sx:{p:2,height:`${s}px`},children:[e.jsx(n,{width:200,height:32,sx:{mb:2}}),e.jsx(n,{variant:"rectangular",height:s-80})]}),P=s=>p.useMemo(()=>({total:s.length,active:s.filter(t=>t.status===x.ACTIVE||t.status===x.PROBATION).length,onLeave:s.filter(t=>t.status===x.ON_LEAVE).length}),[s]),w=(s,t=15)=>p.useMemo(()=>[...s].sort((a,c)=>new Date(c.hireDate).getTime()-new Date(a.hireDate).getTime()).slice(0,t),[s,t]),D=({stats:s,isLoading:t})=>e.jsx(e.Fragment,{children:t?e.jsxs(e.Fragment,{children:[e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(h,{})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(h,{})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(h,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(o,{title:"Total Employees",value:s.total,icon:e.jsx(y,{fontSize:"large"})})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(o,{title:"Working Employees",value:s.active,icon:e.jsx(C,{fontSize:"large"})})}),e.jsx(r,{item:!0,xs:12,sm:6,md:4,children:e.jsx(o,{title:"Employees on Leave",value:s.onLeave,icon:e.jsx(b,{fontSize:"large"})})})]})}),T=({employees:s,isLoading:t})=>e.jsxs(e.Fragment,{children:[e.jsx(r,{item:!0,xs:12,children:t?e.jsx(d,{height:450}):e.jsx(m,{title:"Employees by Department",children:e.jsx(v,{employees:s})})}),e.jsx(r,{item:!0,xs:12,children:t?e.jsx(d,{height:350}):e.jsx(m,{title:"Employee Status Distribution",children:e.jsx(E,{employees:s})})})]}),O=({employees:s,isLoading:t})=>e.jsx(r,{item:!0,xs:12,children:t?e.jsxs(l,{sx:{p:2},children:[e.jsx(n,{width:200,height:32,sx:{mb:2}}),e.jsx(n,{variant:"rectangular",height:200})]}):e.jsxs(l,{sx:{p:2},children:[e.jsx(j,{variant:"h6",gutterBottom:!0,children:"Recent Employees"}),e.jsx(f,{employees:s||[],isLoading:t})]})}),F=()=>{const{data:s=[],isLoading:t}=g(),a=P(s),c=w(s);return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Dashboard",breadcrumbs:[{label:"Home",href:"/"},{label:"Dashboard"}]}),e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(D,{stats:a,isLoading:t}),e.jsx(T,{employees:s,isLoading:t}),e.jsx(O,{employees:c,isLoading:t})]})]})};export{F as DashboardPage,F as default};
